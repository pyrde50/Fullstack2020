{"version":3,"sources":["components/addPerson.js","components/filter.js","notification.js","errorNotification.js","components/person.js","services/getPerson.js","index.js"],"names":["AddPerson","props","value","newName","onChange","editnewName","newNumber","editNewNumber","type","onClick","addPerson","FilterPersons","findName","editFindName","Notification","message","className","ErrorNotification","errorMessage","Person","filterPeople","map","person","name","number","id","DeletePerson","baseUrl","axios","get","personObject","post","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","setFindName","setNumber","setMessage","setErrorMessage","useEffect","getPerson","then","response","data","length","filter","toLowerCase","includes","event","target","preventDefault","some","item","window","confirm","concat","console","log","setTimeout","res","catch","error","nameOfDeleted","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d1a168da.chunk.js","sourcesContent":["\n\nconst AddPerson = ( props ) => {\n    return (\n        <form>\n        <div>name: <input value={props.newName} onChange={props.editnewName} /> </div> \n        <div>number: <input value={props.newNumber} onChange={props.editNewNumber} /> </div> \n        <div><button type=\"submit\" onClick={props.addPerson}>add</button></div>\n      </form>\n    )\n  }\n\n  export default AddPerson","\n\nconst FilterPersons = (props) => {\n return (\n   <div>\n   <div>filter shown with<input value={props.findName} onChange={props.editFindName} /> </div> \n  </div>\n  )\n}\n\n  export default FilterPersons","import react from 'react'\nimport './index.css'\n\nconst Notification = ({message}) => {\n    if (message == null) {\n        return null\n    } else {\n        return (\n            <div className=\"finding\">\n            {message}\n            </div>\n        )\n    }\n\n\n}\n\nexport default Notification","import react from 'react'\nimport './index.css'\n\nconst ErrorNotification = ({errorMessage}) => {\n    if (errorMessage == null) {\n        return null\n    } else {\n        return (\n            <div className=\"error\">\n            {errorMessage}\n            </div>\n        )\n    }\n\n\n}\n\nexport default ErrorNotification","\n\n\nconst Person = ( props ) => {\n    return (\n      props.filterPeople.map(person => (\n        <div key={person.name}>\n          {person.name} {person.number} <button value={person.id} onClick={props.DeletePerson}>delete</button>\n        </div>\n      )\n    )\n    )\n    \n  }\n\n  export default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst Add = personObject => {\n    return axios.post(baseUrl, personObject)\n}\n\nconst Delete = personObject => {\n    return axios.delete(`${baseUrl}/${personObject.id}`)\n}\n\nconst Get = (id) => {\n    return axios.get(`${baseUrl}/${id}`)\n}\n\nconst changeNumber = personObject => {\n    return axios.put(`${baseUrl}/${personObject.id}`, {name: personObject.name, number: personObject.number})\n}\n\nexport default {getAll, Add, Delete, Get, changeNumber}","import React, { useEffect, useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport AddPerson from './components/addPerson'\nimport FilterPersons from './components/filter'\nimport Notification from './notification'\nimport ErrorNotification from './errorNotification'\nimport Person from './components/person'\nimport getPerson from './services/getPerson'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ findName, setFindName ] = useState('')\n  const [ number, setNumber ] = useState(8)\n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if(persons.some(item => item.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const personObject = {\n          name: newName,\n          number: newNumber,\n          id: persons.filter(person => person.name === newName)[0].id\n        }\n        getPerson\n        .changeNumber(personObject)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== response.data.id).concat(personObject))\n          console.log(response.data)\n          setMessage(`${response.data.name} number changed to ${response.data.number}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 4000)\n        })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: number + 1\n      }\n      getPerson\n      .Add(personObject)\n        .then(response => {\n          console.log(response)\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setMessage(`${response.data.name} added`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 4000)\n\n      })\n    }\n  }\n\n  useEffect(() => {\n    getPerson\n    .getAll()\n      .then(response => {\n        setPersons(response.data)\n        setNumber(response.data.id)\n      })\n  },[])\n\n  const editnewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const editNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const editFindName = (event) => {\n    setFindName(event.target.value)\n  }\n\n  const DeletePerson = (event) => {\n    getPerson\n    .Get(event.target.value)\n    .then(response => {\n      if (window.confirm(`Delete ${response.data.name}?`)) {\n      getPerson\n      .Delete(response.data)\n      .then(res => {\n        console.log(response.data)\n        setPersons(persons.filter(person => person.id !== response.data.id))\n        console.log(persons)\n        setMessage(`${response.data.name} deleted`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 4000)\n    })\n  }\n    })\n    .catch(error => {\n      const nameOfDeleted = persons.filter(person => person.id == event.target.value)[0].name\n      setErrorMessage(`information of ${nameOfDeleted} has already been removed from server`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 7000)\n    })\n  }\n\n  const filterPeople = findName.length === 0\n  ? persons\n  : persons.filter(person => person.name.toLowerCase().includes(findName.toLowerCase()) === true)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <ErrorNotification errorMessage={errorMessage}/>\n      <FilterPersons findName = {findName} editFindName = {editFindName}/>\n      <h2>add new</h2>\n      <AddPerson newName = {newName} editnewName ={editnewName} newNumber = {newNumber} editNewNumber={editNewNumber} addPerson = {addPerson}/>\n      <h2>Numbers</h2>\n      <Person filterPeople={filterPeople} DeletePerson={DeletePerson}/>\n\n    </div>\n  )\n\n}\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}