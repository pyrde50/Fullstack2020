{"ast":null,"code":"var _jsxFileName = \"/Users/pyry/Desktop/KOULU/3syksy/Osa5/bloglist-frontend/src/components/BlogForm.js\";\nimport React, { useState } from 'react';\nimport Blog from './Blog';\nimport blogService from '../services/blogs';\nimport Togglable from './Togglable';\n\nconst BlogForm = props => {\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [url, setURL] = useState('');\n\n  const addBlog = event => {\n    event.preventDefault();\n\n    try {\n      const blogObject = {\n        title: title,\n        author: author,\n        url: url\n      };\n      blogService.create(blogObject).then(returnedBlog => {\n        if (returnedBlog.stringify.split(':')[0] === 'error') {\n          if (title === '') {\n            props.setErrorMessage('title missing');\n            setTimeout(() => {\n              props.setErrorMessage(null);\n            }, 5000);\n          } else {\n            props.setErrorMessage('URL missing');\n            setTimeout(() => {\n              props.setErrorMessage(null);\n            }, 5000);\n          }\n        } else {\n          props.setBlogs(props.blogit.concat(returnedBlog));\n          props.setMessage(`new Blog ${title} added`);\n          setTimeout(() => {\n            props.setMessage(null);\n          }, 5000);\n          setTitle('');\n          setAuthor('');\n          setURL('');\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const BlogiForm = () => {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"create new\"), React.createElement(\"form\", {\n      onSubmit: addBlog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"title:\", React.createElement(\"input\", {\n      type: \"text\",\n      value: title,\n      name: \"title\",\n      onChange: ({\n        target\n      }) => setTitle(target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"author:\", React.createElement(\"input\", {\n      type: \"text\",\n      value: author,\n      name: \"title\",\n      onChange: ({\n        target\n      }) => setAuthor(target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"url:\", React.createElement(\"input\", {\n      type: \"text\",\n      value: url,\n      name: \"title\",\n      onChange: ({\n        target\n      }) => setURL(target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"create\")));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"blogs\"), props.name, \" logged in \", React.createElement(\"button\", {\n    onClick: props.handleLogout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"logout\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), React.createElement(Togglable, {\n    buttonLabel: \"add Blog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"create new\"), React.createElement(\"form\", {\n    onSubmit: addBlog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"title:\", React.createElement(\"input\", {\n    type: \"text\",\n    value: title,\n    name: \"title\",\n    onChange: ({\n      target\n    }) => setTitle(target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"author:\", React.createElement(\"input\", {\n    type: \"text\",\n    value: author,\n    name: \"title\",\n    onChange: ({\n      target\n    }) => setAuthor(target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"url:\", React.createElement(\"input\", {\n    type: \"text\",\n    value: url,\n    name: \"title\",\n    onChange: ({\n      target\n    }) => setURL(target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"create\")))), props.blogs.map(blog => React.createElement(Blog, {\n    key: blog.id,\n    blog: blog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  })));\n};\n\nexport default BlogForm;","map":{"version":3,"sources":["/Users/pyry/Desktop/KOULU/3syksy/Osa5/bloglist-frontend/src/components/BlogForm.js"],"names":["React","useState","Blog","blogService","Togglable","BlogForm","props","title","setTitle","author","setAuthor","url","setURL","addBlog","event","preventDefault","blogObject","create","then","returnedBlog","stringify","split","setErrorMessage","setTimeout","setBlogs","blogit","concat","setMessage","error","console","log","BlogiForm","target","value","name","handleLogout","blogs","map","blog","id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport Blog from './Blog'\nimport blogService from '../services/blogs'\nimport Togglable from './Togglable'\n\n\nconst BlogForm = (props) => {\n    const [title, setTitle] = useState('')\n    const [author, setAuthor] = useState('') \n    const [url, setURL] = useState('') \n    const addBlog = (event) => {\n      event.preventDefault()\n      try {\n      const blogObject = {\n        title: title,\n        author: author,\n        url: url\n      }\n      blogService\n      .create(blogObject)\n      .then(returnedBlog => {\n        if (returnedBlog.stringify.split(':')[0]=== 'error') {\n          if(title === '') {\n            props.setErrorMessage('title missing')\n          setTimeout(() => { \n            props.setErrorMessage(null)\n          },5000)\n          } else {\n            props.setErrorMessage('URL missing')\n          setTimeout(() => { \n            props.setErrorMessage(null)\n          },5000)\n          }\n        } else {\n        props.setBlogs(props.blogit.concat(returnedBlog))\n        props.setMessage(`new Blog ${title} added`)\n        setTimeout(() => {\n          props.setMessage(null)\n        },5000)\n        setTitle('')\n        setAuthor('')\n        setURL('')\n      }\n      })\n    }  catch (error) {\n      console.log(error)\n     } \n }\n\n const BlogiForm = () => {\n  return (\n    <div>\n      <h2>create new</h2>\n        <form onSubmit={addBlog}>\n      <div>\n        title:\n          <input\n          type=\"text\"\n          value={title}\n          name=\"title\"\n          onChange={({ target }) => setTitle(target.value)}\n        />\n      </div>\n      <div>\n        author:\n          <input\n          type=\"text\"\n          value={author}\n          name=\"title\"\n          onChange={({ target }) => setAuthor(target.value)}\n        />\n      </div>\n      <div>\n        url:\n          <input\n          type=\"text\"\n          value={url}\n          name=\"title\"\n          onChange={({ target }) => setURL(target.value)}\n        />\n      </div>\n      <button type=\"submit\">create</button>\n    </form>\n    </div>\n  )\n }\n    return (\n        <div>\n        <h2>blogs</h2>\n        {props.name} logged in <button onClick={props.handleLogout}>logout</button>\n        <br /> \n        <br /> \n        <Togglable buttonLabel='add Blog'>\n        <div>\n      <h2>create new</h2>\n        <form onSubmit={addBlog}>\n      <div>\n        title:\n          <input\n          type=\"text\"\n          value={title}\n          name=\"title\"\n          onChange={({ target }) => setTitle(target.value)}\n        />\n      </div>\n      <div>\n        author:\n          <input\n          type=\"text\"\n          value={author}\n          name=\"title\"\n          onChange={({ target }) => setAuthor(target.value)}\n        />\n      </div>\n      <div>\n        url:\n          <input\n          type=\"text\"\n          value={url}\n          name=\"title\"\n          onChange={({ target }) => setURL(target.value)}\n        />\n      </div>\n      <button type=\"submit\">create</button>\n    </form>\n    </div>\n        </Togglable>\n        {props.blogs.map(blog =>\n          <Blog key={blog.id} blog={blog} />\n        )}\n      </div>\n    )\n}\n\nexport default BlogForm"]},"metadata":{},"sourceType":"module"}