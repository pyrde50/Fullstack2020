{"ast":null,"code":"var _jsxFileName = \"/Users/pyry/Desktop/KOULU/3syksy/Osa5/bloglist-frontend/src/components/BlogForm.js\";\nimport React, { useState } from 'react';\nimport Blog from './Blog';\nimport blogService from '../services/blogs';\nimport Togglable from './Togglable';\n\nconst AddBlogForm = props => {\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [url, setURL] = useState('');\n\n  const addBlog = event => {\n    event.preventDefault();\n\n    try {\n      const blogObject = {\n        title: title,\n        author: author,\n        url: url\n      };\n      blogService.create(blogObject).then(returnedBlog => {\n        if (JSON.stringify(returnedBlog).split(':')[0] === '\"error') {\n          if (title === '') {\n            props.setErrorMessage('title missing');\n            setTimeout(() => {\n              props.setErrorMessage(null);\n            }, 5000);\n          } else {\n            props.setErrorMessage('URL missing');\n            setTimeout(() => {\n              props.setErrorMessage(null);\n            }, 5000);\n          }\n        } else {\n          props.setBlogs(props.blogit.concat(returnedBlog));\n          props.setMessage(`new Blog ${title} added`);\n          setTimeout(() => {\n            props.setMessage(null);\n          }, 5000);\n          setTitle('');\n          setAuthor('');\n          setURL('');\n        }\n      });\n    } catch (error) {\n      throw new error();\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"create new\"), React.createElement(\"form\", {\n    onSubmit: addBlog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"title:\", React.createElement(\"input\", {\n    type: \"text\",\n    value: title,\n    name: \"title\",\n    onChange: ({\n      target\n    }) => setTitle(target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"author:\", React.createElement(\"input\", {\n    type: \"text\",\n    value: author,\n    name: \"author\",\n    onChange: ({\n      target\n    }) => setAuthor(target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"url:\", React.createElement(\"input\", {\n    type: \"text\",\n    value: url,\n    name: \"url\",\n    onChange: ({\n      target\n    }) => setURL(target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"create\")));\n};\n\nconst BlogForm = props => {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"blogs\"), props.name, \" logged in \", React.createElement(\"button\", {\n    onClick: props.handleLogout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"logout\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), React.createElement(Togglable, {\n    buttonLabel: \"create new Blog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(AddBlogForm, {\n    addBlog: addBlog,\n    title: title,\n    setTitle: setTitle,\n    setAuthor: setAuthor,\n    setURL: setURL,\n    author: author,\n    url: url,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  })), props.blogs.sort((a, b) => b.likes - a.likes).map(blog => React.createElement(Blog, {\n    key: blog.id,\n    blog: blog,\n    userID: props.userID,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  })));\n}; //<addBlogForm addBlog={addBlog} title={title} setTitle={setTitle} setAuthor={setAuthor} setURL={setURL} author={author} url={url}/>\n\n\nexport default BlogForm;\nexport { AddBlogForm };","map":{"version":3,"sources":["/Users/pyry/Desktop/KOULU/3syksy/Osa5/bloglist-frontend/src/components/BlogForm.js"],"names":["React","useState","Blog","blogService","Togglable","AddBlogForm","props","title","setTitle","author","setAuthor","url","setURL","addBlog","event","preventDefault","blogObject","create","then","returnedBlog","JSON","stringify","split","setErrorMessage","setTimeout","setBlogs","blogit","concat","setMessage","error","target","value","BlogForm","name","handleLogout","blogs","sort","a","b","likes","map","blog","id","userID"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport Blog from './Blog'\nimport blogService from '../services/blogs'\nimport Togglable from './Togglable'\n\nconst AddBlogForm = (props) => {\n  const [title, setTitle] = useState('')\n  const [author, setAuthor] = useState('')\n  const [url, setURL] = useState('')\n\n  const addBlog = (event) => {\n    event.preventDefault()\n    try {\n      const blogObject = {\n        title: title,\n        author: author,\n        url: url\n      }\n      blogService\n        .create(blogObject)\n        .then(returnedBlog => {\n          if (JSON.stringify(returnedBlog).split(':')[0]=== '\"error') {\n            if(title === '') {\n              props.setErrorMessage('title missing')\n              setTimeout(() => {\n                props.setErrorMessage(null)\n              },5000)\n            } else {\n              props.setErrorMessage('URL missing')\n              setTimeout(() => {\n                props.setErrorMessage(null)\n              },5000)\n            }\n          } else {\n            props.setBlogs(props.blogit.concat(returnedBlog))\n            props.setMessage(`new Blog ${title} added`)\n            setTimeout(() => {\n              props.setMessage(null)\n            },5000)\n            setTitle('')\n            setAuthor('')\n            setURL('')\n          }\n        })\n    }  catch (error) {\n      throw new (error)\n    }\n  }\n  return (\n    <div>\n      <h2>create new</h2>\n      <form onSubmit={addBlog}>\n        <div>\n        title:\n          <input\n            type=\"text\"\n            value={title}\n            name=\"title\"\n            onChange={({ target }) => setTitle(target.value)}\n          />\n        </div>\n        <div>\n        author:\n          <input\n            type=\"text\"\n            value={author}\n            name=\"author\"\n            onChange={({ target }) => setAuthor(target.value)}\n          />\n        </div>\n        <div>\n        url:\n          <input\n            type=\"text\"\n            value={url}\n            name=\"url\"\n            onChange={({ target }) => setURL(target.value)}\n          />\n        </div>\n        <button type=\"submit\">create</button>\n      </form>\n    </div>\n  )\n}\n\n\nconst BlogForm = (props) => {\n  \n\n\n  return (\n    <div>\n      <h2>blogs</h2>\n      {props.name} logged in <button onClick={props.handleLogout}>logout</button>\n      <br />\n      <br />\n      <Togglable buttonLabel='create new Blog'>\n        <AddBlogForm addBlog={addBlog} title={title} setTitle={setTitle} setAuthor={setAuthor} setURL={setURL} author={author} url={url}/>\n      </Togglable>\n      {props.blogs.sort((a, b) => b.likes - a.likes).map(blog =>\n        <Blog key={blog.id} blog={blog} userID={props.userID} />\n      )}\n    </div>\n  )\n}\n\n//<addBlogForm addBlog={addBlog} title={title} setTitle={setTitle} setAuthor={setAuthor} setURL={setURL} author={author} url={url}/>\nexport default  BlogForm\nexport { AddBlogForm }"]},"metadata":{},"sourceType":"module"}